(this["webpackJsonpa11y-listbox"]=this["webpackJsonpa11y-listbox"]||[]).push([[0],[,,,,,,,,,function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var c=i(1),l=i.n(c),r=i(4),n=i.n(r),s=(i(9),i(2)),o=i(0),a=function(e){var t=e.items,i=e.selectedItem,l=e.setSelectedItem,r=e.setIsOpen,n=e.triggerButtonRef,a=Object(c.useRef)(null);Object(c.useEffect)((function(){a.current.focus()}),[]);var b=function(e){return t.indexOf(e)},d=Object(c.useState)(b(i)>-1?b(i):0),j=Object(s.a)(d,2),h=j[0],u=j[1],x=function(e){var i=document.getElementById(t[e].id),c=a.current;if(c.scrollHeight>c.clientHeight){var l=c.clientHeight+c.scrollTop,r=i.offsetTop+i.offsetHeight;r>l?c.scrollTop=r-c.clientHeight:i.offsetTop<c.scrollTop&&(c.scrollTop=i.offsetTop)}};return Object(o.jsx)("ul",{className:"optionsList",tabIndex:"-1",role:"listbox",ref:a,"aria-labelledby":"listboxLabel","aria-activedescendant":t[h].id,onKeyDown:function(e){switch(e.key){case"ArrowUp":e.preventDefault();var c=h-1>=0?h-1:t.length-1;u(c),x(c);break;case"ArrowDown":e.preventDefault();var s=h+1<=t.length-1?h+1:0;u(s),x(s);break;case"Home":u(0);break;case"End":u(t.length-1);break;case"Enter":e.preventDefault(),l(t[h]),r(!1),n.current.focus();break;case"Escape":r(!1),u(b(i)>-1?b(i):0),n.current.focus()}},onBlur:function(){r(!1),n.current.focus()},children:t.map((function(e,t){return Object(o.jsx)("li",{id:e.id,role:"option",onClick:function(t){return function(e,t){e.preventDefault(),l(t),u(b(t)),r(!1),n.current.focus()}(t,e)},"aria-selected":i.id===e.id,className:t===h?"focused":"",children:e.label},e.id)}))})},b=(i(11),function(e){var t=e.items,i=e.label,l=Object(c.useState)(!1),r=Object(s.a)(l,2),n=r[0],b=r[1],d=Object(c.useState)({}),j=Object(s.a)(d,2),h=j[0],u=j[1],x=Object(c.useRef)(null);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{id:"listboxLabel",children:[i,":"]}),Object(o.jsx)("div",{id:"listboxWrapper",children:Object(o.jsxs)("div",{className:"listboxContainer",children:[Object(o.jsx)("button",{"aria-haspopup":"listbox","aria-labelledby":"listboxLabel triggerButton","aria-expanded":n,id:"triggerButton",ref:x,onClick:function(){b((function(e){return!e}))},onKeyDown:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":b(!0);break;case"Escape":b(!1)}},children:h.label||i}),n&&Object(o.jsx)(a,{items:t,selectedItem:h,setSelectedItem:u,setIsOpen:b,triggerButtonRef:x})]})})]})}),d=[{id:"apple",label:"Apple"},{id:"banana",label:"Banana"},{id:"blackberry",label:"Blackberry"},{id:"blueberry",label:"Blueberry"},{id:"cranberry",label:"Cranberry"},{id:"kiwi",label:"Kiwi"},{id:"mango",label:"Mango"},{id:"orange",label:"Orange"},{id:"pear",label:"Pear"},{id:"pineapple",label:"Pineapple"},{id:"raspberry",label:"Raspberry"},{id:"strawberry",label:"Strawberry"},{id:"watermelon",label:"Watermelon"}],j=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Finished Result"}),Object(o.jsx)("div",{className:"listboxExampleArea",children:Object(o.jsx)(b,{items:d,label:"Choose a fruit"})})]})},h=function(e){var t=e.items;return Object(o.jsx)("ul",{className:"optionsList",onKeyDown:function(e){},onBlur:function(){},children:t.map((function(e){return Object(o.jsx)("li",{id:e.id,onClick:function(e){},children:e.label},e.id)}))})},u=(i(12),function(e){var t=e.items,i=e.label,l=Object(c.useState)(!1),r=Object(s.a)(l,2),n=r[0],a=r[1];return Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{id:"listboxLabelStartingPoint",children:[i,":"]}),Object(o.jsx)("div",{id:"listboxWrapperStartingPoint",children:Object(o.jsxs)("div",{className:"listboxContainer",children:[Object(o.jsx)("button",{id:"triggerButtonStartingPoint",onClick:function(){a((function(e){return!e}))},onKeyDown:function(e){},children:i}),n&&Object(o.jsx)(h,{items:t})]})})]})}),x=[{id:"apple",label:"Apple"},{id:"banana",label:"Banana"},{id:"blackberry",label:"Blackberry"},{id:"blueberry",label:"Blueberry"},{id:"cranberry",label:"Cranberry"},{id:"kiwi",label:"Kiwi"},{id:"mango",label:"Mango"},{id:"orange",label:"Orange"},{id:"pear",label:"Pear"},{id:"pineapple",label:"Pineapple"},{id:"raspberry",label:"Raspberry"},{id:"strawberry",label:"Strawberry"},{id:"watermelon",label:"Watermelon"}],O=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Starting Point"}),Object(o.jsx)("div",{className:"listboxExampleArea",children:Object(o.jsx)(u,{items:x,label:"Choose a fruit"})})]})},p=(i(13),function(){return Object(o.jsxs)("div",{className:"acceptanceCriteria",children:[Object(o.jsx)("h2",{children:"Acceptance Criteria"}),Object(o.jsx)("h3",{children:"Mouse Users"}),Object(o.jsxs)("ol",{children:[Object(o.jsx)("li",{children:"Clicking the trigger button should show/hide the listbox options"}),Object(o.jsx)("li",{children:"Items should be hoverable and selectable with the mouse"}),Object(o.jsx)("li",{children:"When an item is clicked, the listbox should be closed and focus should be returned to the trigger button"}),Object(o.jsx)("li",{children:"Clicking away from the open listbox should close the listbox and return the focus to the trigger button"})]}),Object(o.jsx)("h3",{children:"Keyboard Users"}),Object(o.jsxs)("ol",{children:[Object(o.jsxs)("li",{children:["Pressing the ",Object(o.jsx)("code",{children:"Enter"}),"/",Object(o.jsx)("code",{children:"Space"})," key on the trigger button should show/hide the listbox options"]}),Object(o.jsxs)("li",{children:["Pressing the ",Object(o.jsx)("code",{children:"Down Arrow"})," or ",Object(o.jsx)("code",{children:"Up Arrow"})," on the trigger button when the listbox is closed should open the listbox"]}),Object(o.jsx)("li",{children:"Items should be focusable and selectable with the keyboard"}),Object(o.jsxs)("ol",{children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"Down Arrow"}),": moves focus down by one item"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"Up Arrow"}),": moves focus up by one item"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"Enter"}),": selects the currently focused item and closes the listbox and returns the focus to the trigger button"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"Escape"}),": closes the listbox without making a selection and returns the focus to the trigger button"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"Home"}),": moves focus to the first item"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"End"}),": moves focus to the last item"]})]}),Object(o.jsx)("li",{children:"When focus is moved to an item out of view, listbox should be scrolled so that the item is visible"})]}),Object(o.jsx)("h3",{children:"Screen Reader Users"}),Object(o.jsxs)("ol",{children:[Object(o.jsxs)("li",{children:["Trigger button should have ",Object(o.jsx)("code",{children:'aria-haspopup="listbox"'}),","," ",Object(o.jsx)("code",{children:"aria-labelledby"}),", and ",Object(o.jsx)("code",{children:"aria-expanded"})," attributes"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"ul"})," element should have ",Object(o.jsx)("code",{children:'role="listbox"'}),","," ",Object(o.jsx)("code",{children:"aria-labelledby"}),", and ",Object(o.jsx)("code",{children:"aria-activedescendant"})," ","attributes"]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("code",{children:"li"})," elements should have ",Object(o.jsx)("code",{children:'role="option"'})," and"," ",Object(o.jsx)("code",{children:"aria-selected"})," attributes"]})]})]})}),f=function(){return Object(o.jsxs)("main",{className:"App",children:[Object(o.jsx)("h1",{children:"Accessible Listbox Components"}),Object(o.jsx)(j,{}),Object(o.jsx)(O,{}),Object(o.jsx)(p,{})]})};n.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.6c0c0778.chunk.js.map